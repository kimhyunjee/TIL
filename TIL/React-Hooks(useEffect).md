# ì •ë¦¬

- `useEffect`ëŠ” í™”ë©´ì— ì»´í¬ë„ŒíŠ¸ê°€ mount ë˜ëŠ” unmount ëì„ ë•Œ ì‹¤í–‰í•˜ê³ ì í•˜ëŠ” í•¨ìˆ˜ë¥¼ ì œì–´í•˜ê²Œ í•´ì£¼ëŠ” í›…ì´ë‹¤.
- **ì˜ì¡´ì„± ë°°ì—´ì„ í†µí•´ í•¨ìˆ˜ì˜ ì‹¤í–‰ ì¡°ê±´ì„ ì œì–´**í•  ìˆ˜ ìˆë‹¤.
- `useEffect` ì—ì„œ í•¨ìˆ˜ë¥¼ 1ë²ˆë§Œ ì‹¤í–‰ì‹œí‚¤ê³ ì í• ë•ŒëŠ” **ì˜ì¡´ì„± ë°°ì—´ì„ ë¹ˆ ë°°ì—´**ë¡œ ë‘”ë‹¤.

# ë” ì•Œì•„ë³´ë©´ ì¢‹ì€ í‚¤ì›Œë“œ

## `Strict mode`ë€ ë¬´ì—‡ì¼ê¹Œ?

ê°€ë” ì—„ê²©í•˜ì§€ ì•Šì€ ê¸°ë³¸ê°’ì„ "**[ëŠìŠ¨í•œ ëª¨ë“œ](https://developer.mozilla.org/ko/docs/Glossary/Sloppy_mode)**(sloppy mode)"ë¼ê³ Â ë¶€ë¥´ê¸°ë„ í•©ë‹ˆë‹¤. ê³µì‹ì ì¸ ìš©ì–´ëŠ” ì•„ë‹ˆì§€ë§Œ í˜¹ì‹œ ëª¨ë¥´ë‹ˆ ì•Œì•„ë‘ì„¸ìš”.

[ECMAScript 5](https://www.ecma-international.org/publications/standards/Ecma-262.htm)Â ì—ì„œ ì†Œê°œëœ JavaScript ì˜ ì—„ê²©ëª¨ë“œëŠ” JavaScript ì˜ ì œí•œëœ ë²„ì „ì„ ì„ íƒí•˜ì—¬ ì•”ë¬µì ì¸ "**[ëŠìŠ¨í•œ ëª¨ë“œ](https://developer.mozilla.org/ko/docs/Glossary/Sloppy_mode)**(sloppy mode)" ë¥¼ í•´ì œí•˜ê¸° ìœ„í•œ ë°©ë²•ì…ë‹ˆë‹¤. ì—„ê²© ëª¨ë“œëŠ” ë‹¨ì§€ ë¶€ë¶„ì ì¸ ê²ƒì´ ì•„ë‹ˆë©°,Â ì´ê²ƒì€Â *ê³ ì˜ì ìœ¼ë¡œ*Â ì¼ë°˜ ì½”ë“œì™€Â ë‹¤ë¥¸ ì‹œë©˜í‹±ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì—„ê²©ëª¨ë“œë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ë¸Œë¼ìš°ì €ì—ì„œëŠ” ì—„ê²© ëª¨ë“œì˜ ì½”ë“œê°€Â ë‹¤ë¥¸ ë°©ì‹ìœ¼ë¡œ ë™ì‘í•  ê²ƒì…ë‹ˆë‹¤, ê·¸ ë•Œë¬¸ì— ì—„ê²© ëª¨ë“œê°€Â ì ì ˆí•˜ê²Œ ì ìš©ëœÂ í”¼ì³Â í…ŒìŠ¤íŠ¸ ì—†ì´ ì—„ê²© ëª¨ë“œì— ì˜ì¡´í•˜ë©´ ì•ˆë©ë‹ˆë‹¤. ì—„ê²© ëª¨ë“œì˜ ì½”ë“œì™€ ë¹„-ì—„ê²© ëª¨ë“œì˜ ì½”ë“œëŠ” ê³µì¡´í•  ìˆ˜ ìˆìœ¼ë©°, ë•Œë¬¸ì— ìŠ¤í¬ë¦½íŠ¸ì˜Â ì—„ê²© ëª¨ë“œë¥¼ ì·¨ì‚¬ ì„ íƒí•˜ëŠ” ê²ƒì´ ì ì§„ì ìœ¼ë¡œ ê°€ëŠ¥í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

ì—„ê²© ëª¨ë“œëŠ” í‰ë²”í•œ JavaScript ì‹œë©˜í‹±ìŠ¤ì— ëª‡ê°€ì§€ ë³€ê²½ì´ ì¼ì–´ë‚˜ê²Œ í•©ë‹ˆë‹¤.

1. ê¸°ì¡´ì—ëŠ” ì¡°ìš©íˆ ë¬´ì‹œë˜ë˜ ì—ëŸ¬ë“¤ì„ throwingí•©ë‹ˆë‹¤.
2. JavaScript ì—”ì§„ì˜ ìµœì í™” ì‘ì—…ì„ ì–´ë µê²Œ ë§Œë“œëŠ”Â ì‹¤ìˆ˜ë“¤ì„ ë°”ë¡œì¡ìŠµë‹ˆë‹¤. ê°€ë”ì”©Â ì—„ê²© ëª¨ë“œì˜ ì½”ë“œëŠ”Â ë¹„-ì—„ê²© ëª¨ë“œì˜ ë™ì¼í•œ ì½”ë“œë³´ë‹¤Â ë” ë¹¨ë¦¬ ì‘ë™í•˜ë„ë¡ ë§Œë“¤ì–´ì§‘ë‹ˆë‹¤.
3. ì—„ê²© ëª¨ë“œëŠ” ECMAScriptì˜ ì°¨ê¸° ë²„ì „ë“¤ì—ì„œ ì •ì˜ ë Â ë¬¸ë²•ì„ ê¸ˆì§€í•©ë‹ˆë‹¤.

ì½”ë“œë¥¼ JavaScriptì˜ ë³€í˜•ì´ ì œí•œëœ í™˜ê²½ì—ì„œ ë™ì‘í•˜ë„ë¡ í•˜ê³  ì‹¶ë‹¤ë©´,Â ì—„ê²© ëª¨ë“œë¡œì˜ ë³€í™˜([transitioning to strict mode](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Strict_mode/Transitioning_to_strict_mode))ì„ ì°¸ê³ í•˜ì„¸ìš”.

â†’ES5ë¶€í„° ì ìš©ëœ ì—„ê²©ëª¨ë“œ- ë‹¤ì†Œë¬´ì‹œë˜ë˜ ë¬¸ë²•ë“¤ì„ (ì‹¤ìˆ˜)ë“¤ì„ ë‹¹ì¥ ë¬¸ì œê°€ ì—†ì–´ë„ ì—ëŸ¬ë¡œ í‘œì‹œí•´ì„œ ì¦‰ê° ê³ ì¹˜ê²Œ í•œë‹¤.

strict modeì™€ ë¹„ìŠ·í•œ ê¸°ëŠ¥ì„ í•˜ëŠ”ê²Œ eslintê°™ì€ í™•ì¥í”„ë¡œê·¸ë¨ì´ë‹¤.

ì¶œì²˜:[https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Strict_mode](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Strict_mode)

ì¶”ê°€ë¡œ ì½ì–´ë³¸ í˜ì´ì§€ :[https://poiemaweb.com/js-strict-mode](https://poiemaweb.com/js-strict-mode)

## React ë¼ì´í”„ ì‚¬ì´í´ì´ë€ ë¬´ì—‡ì¼ê¹Œ?

ì»´í¬ë„ŒíŠ¸ëŠ” ìƒì„±(mounting) -> ì—…ë°ì´íŠ¸(updating) -> ì œê±°(unmounting)ì˜ ìƒëª…ì£¼ê¸°ë¥¼ ê°–ìŠµë‹ˆë‹¤.

ë¦¬ì•¡íŠ¸ì˜ í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ” ë¼ì´í”„ ì‚¬ì´í´ ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ê³ , í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸ëŠ” Hookì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì»´í¬ë„ŒíŠ¸ê°€ ì‹¤í–‰ë˜ê±°ë‚˜ ì—…ë°ì´íŠ¸ë˜ê±°ë‚˜ ì œê±°ë  ë•Œ, íŠ¹ì •í•œ ì´ë²¤íŠ¸ë“¤ì´ ë°œìƒí•©ë‹ˆë‹¤.

### **Class Componet ìƒëª…ì£¼ê¸°**

### ğŸ‘€ ë§ˆìš´íŠ¸(mount)

ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„± ë ë•Œ ë°œìƒí•˜ëŠ” ìƒëª…ì£¼ê¸°ë“¤ì„ ì•Œì•„ë´…ì‹œë‹¤.

### â˜‘ï¸ constructor

ì»´í¬ë„ŒíŠ¸ ìƒì„±ì ë©”ì„œë“œ, ì»´í¬ë„ŒíŠ¸ê°€ ìƒì„±ë˜ë©´ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œthis.props, this.stateì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ê³  ë¦¬ì•¡íŠ¸ ìš”ì†Œë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.

### â˜‘ï¸ getDerivedStateFromProps

propsë¡œë¶€í„° íŒŒìƒëœ stateë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤. ì¦‰ propsë¡œ ë°›ì•„ì˜¨ ê²ƒì„ stateì— ë„£ì–´ì£¼ê³  ì‹¶ì„ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

### â˜‘ï¸ render

ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

### â˜‘ï¸ componentDidMount

ì»´í¬ë„ŒíŠ¸ê°€ ë§ˆìš´íŠ¸ ë¨, ì¦‰ ì»´í¬ë„ŒíŠ¸ì˜ ì²«ë²ˆì§¸ ë Œë”ë§ì´ ë§ˆì¹˜ë©´ í˜¸ì¶œë˜ëŠ” ë©”ì„œë“œ ì…ë‹ˆë‹¤.ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë˜ëŠ” ì‹œì ì—ëŠ” í™”ë©´ì— ì»´í¬ë„ŒíŠ¸ê°€ ë‚˜íƒ€ë‚œ ìƒíƒœì…ë‹ˆë‹¤.ì—¬ê¸°ì„œëŠ” ì£¼ë¡œ DOMì„ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì—°ë™, í•´ë‹¹ ì»´í¬ë„ŒíŠ¸ì—ì„œ í•„ìš”ë¡œí•˜ëŠ” ë°ì´í„°ë¥¼ ajaxë¡œ ìš”ì²­, ë“±ì˜ í–‰ìœ„ë¥¼ í•©ë‹ˆë‹¤.

```
useEffect(()=>{
	console.log("componentDidMount");
},[])
```

### ğŸ‘€ ì—…ë°ì´íŠ¸(updating)

ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ë˜ëŠ” ì‹œì ì— ì–´ë–¤ ìƒëª…ì£¼ê¸° ë©”ì„œë“œë“¤ì´ í˜¸ì¶œë˜ëŠ”ì§€ ì•Œì•„ë´…ë‹ˆë‹¤.

### â˜‘ï¸ getDerivedStateFromProps

ì»´í¬ë„ŒíŠ¸ì˜ propsë‚˜ stateê°€ ë°”ë€Œì—ˆì„ë•Œë„ ì´ ë©”ì„œë“œê°€ í˜¸ì¶œë©ë‹ˆë‹¤.

### â˜‘ï¸ shouldComponentUpdate

ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ í• ì§€ ë§ì§€ë¥¼ ê²°ì •í•˜ëŠ” ë©”ì„œë“œì…ë‹ˆë‹¤.

- `React.memo`ì™€ ìœ ì‚¬í•¨, boolean ë°˜í™˜ìœ¼ë¡œ ê²°ì •

### â˜‘ï¸ componentDidUpdate

ì»´í¬ë„ŒíŠ¸ê°€ ì—…ë°ì´íŠ¸ ë˜ê³  ë‚œ í›„ ë°œìƒí•©ë‹ˆë‹¤.

- ì˜ì¡´ì„± ë°°ì—´ì´ ë³€í• ë•Œë§Œ useEffectê°€ ì‹¤í–‰í•˜ëŠ” ê²ƒê³¼ ê°™ìŒ

```
useEffect(() => {
	console.log("count or exampleProp changed");
},[count, exampleProp]);
```

### ğŸ‘€ ì–¸ë§ˆìš´íŠ¸(unmount)

ì–¸ë§ˆìš´íŠ¸ë¼ëŠ” ê²ƒì€ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì–¸ë§ˆìš´íŠ¸ì— ê´€ë ¨ëœ ìƒëª…ì£¼ê¸° ë©”ì„œë“œëŠ”Â `componentWillUnmount`Â í•˜ë‚˜ì…ë‹ˆë‹¤.

### â˜‘ï¸ componentWillUnmount

ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ê¸° ì§ì „ì— í˜¸ì¶œë©ë‹ˆë‹¤.ì—¬ê¸°ì„œ ì£¼ë¡œ DOMì— ì§ì ‘ ë“±ë¡í–ˆì—ˆë˜ ì´ë²¤íŠ¸ë¥¼ ì œê±°í•˜ê³ , ë§Œì•½ì—Â `setTimeout`ì„ ê±¸ì€ ê²ƒì´ ìˆë‹¤ë©´Â `clearTimeout`ì„ í†µí•˜ì—¬ ì œê±°ë¥¼ í•©ë‹ˆë‹¤.ì¶”ê°€ì ìœ¼ë¡œ, ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•œê²Œ ìˆê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— disposeê¸°ëŠ¥ì´ ìˆë‹¤ë©´ ì—¬ê¸°ì„œ í˜¸ì¶œí•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

```
useEffect(()=>{
	console.log("");
    return(() => exampleAPI.unsubscribe());
})
```

ì¶œì²˜:[https://velog.io/@minbr0ther/React.js-ë¦¬ì•¡íŠ¸-ë¼ì´í”„ì‚¬ì´í´life-cycle-ìˆœì„œ-ì—­í• ](https://velog.io/@minbr0ther/React.js-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EB%9D%BC%EC%9D%B4%ED%94%84%EC%82%AC%EC%9D%B4%ED%81%B4life-cycle-%EC%88%9C%EC%84%9C-%EC%97%AD%ED%95%A0)

### Reactì—ì„œ ë§í•˜ëŠ” mountì™€ unmountë€ ë¬´ì—‡ì¼ê¹Œ?

mountë€? ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚˜ëŠ”ê²ƒ, unmountë€ ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì—ì„œ ì‚¬ë¼ì§€ëŠ” ê²ƒì„ ëœ»í•œë‹¤.
